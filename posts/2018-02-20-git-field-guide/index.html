<!DOCTYPE html>
<html lang="en" data-theme=""><head>
    <title> Lucas Mazza | Git Field Guide </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.74.3" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="Software Engineer, coffee enthusiast, absent blogger">
    
    <link rel="stylesheet"
          href="https://afterhours.io/css/style.min.ec15cff0912041d0dce3a88999b9424990bd24473761645397583776684cdc3b.css"
          integrity="sha256-7BXP8JEgQdDc46iJmblCSZC9JEc3YWRTl1g3dmhM3Ds="
          crossorigin="anonymous"
          type="text/css">
    <link rel="stylesheet"
          href="https://afterhours.io/css/overrides.bd79f32609bb701f0b5ec583c078889436f3d2ebce0b80eca8602417869948ae.css"
          integrity="sha256-vXnzJgm7cB8LXsWDwHiIlDbz0uvOC4DsqGAkF4aZSK4="
          crossorigin="anonymous"
          type="text/css"><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    
    <link rel="shortcut icon" href="https://afterhours.io/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="https://afterhours.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://afterhours.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://afterhours.io/favicon-16x16.png">

    <link rel="canonical" href="https://afterhours.io/posts/2018-02-20-git-field-guide/">

    
    
    
    
    <script type="text/javascript"
            src="https://afterhours.io/js/anatole-header.min.e782db136ec18d105a4552702eac49f4620d6867da3fbf808bd53e806c96be6e.js"
            integrity="sha256-54LbE27BjRBaRVJwLqxJ9GINaGfaP7&#43;Ai9U&#43;gGyWvm4="
            crossorigin="anonymous"></script>
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Git Field Guide"/>
<meta name="twitter:description" content="Values, practices and configurations on how I use git"/>

</head>
<body><div class="sidebar animated fadeInDown">
    <div class="logo-title">
        <div class="title">
            <img src="https://afterhours.io/images/headshot.jpg" alt="profile picture">
            <h3 title=""><a href="/">Lucas Mazza</a></h3>
            <div class="description">
                <p>Software Engineer, coffee enthusiast, absent blogger</p>
            </div>
        </div>
    </div>
    <ul class="social-links">
        
            <li>
                <a href="https://twitter.com/lucasmazza" rel="me" aria-label="Twitter">
                    <i class="fa fa-2x fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://github.com/lucasmazza" rel="me" aria-label="GitHub">
                    <i class="fa fa-2x fa-github" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://www.instagram.com/lucasmazza" rel="me" aria-label="instagram">
                    <i class="fa fa-2x fa-instagram" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="mailto:email@lucasmazza.website" rel="me" aria-label="e-mail">
                    <i class="fa fa-2x fa-envelope" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy; Lucas Mazza 2022 </div>
    </div>
</div>
<div class="main">
    <div class="page-top animated fadeInDown">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <ul class="nav" id="navMenu">
        
        
            
            <li><a 
                   href="/"
                        
                   title="">Home</a></li>
        
            
            <li><a 
                   href="/posts/"
                        
                   title="">Posts</a></li>
        
            
            <li><a 
                   href="/talks/"
                        
                   title="">Presentations</a></li>
        
            
            <li><a 
                   href="/about/"
                        
                   title="">About</a></li>
        
            
            <li><a 
                   href="https://afterhours.io/htmlcss-exemplos"
                        
                            target="_blank"
                            rel="noopener noreferrer"
                        
                   title="">Livro HTML5 e CSS 3 (pt-BR)</a></li>
        
            
            <li><a 
                   href="https://lucasmazza.notion.site/Receitas-79a5a48a2350465dad3c57ba866f95d4"
                        
                            target="_blank"
                            rel="noopener noreferrer"
                        
                   title="">Receitas (pt-BR)</a></li>
        
        
        <li class="theme-switch-item">
            <a class="theme-switch" title="Switch Theme">
                <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>

    <div class="autopagerize_page_element">
        <div class="content">
    <div class="post animated fadeInDown">
        <div class="post-content">

            <div class="post-title">
                <h3>Git Field Guide</h3>
                
            </div>

            <p>Git has become an indispensable tool of software development, regardless of which
language or framework your team uses it. But in the other hand, it isn&rsquo;t a tool
that you can adopt, learn and be effective from day 1 - it takes time and guidance
to master it, both in the command line the integrations and practices most teams
have adopted.</p>
<p>I&rsquo;ve put up together a guide on how I see and use git on my day to day work, that
can be used as a starting both for both newcomers who are trying to grok or more
experienced professionals who want to make a more effective use of it on they
work.</p>
<p>The guide describes <a href="#values"><strong>values</strong></a> to remember and strive for when using
git, day to day <a href="#practices"><strong>practices</strong></a> and <a href="#configuration"><strong>configuration</strong></a>
suggestions that I believe are a must have for your local setup.</p>
<h2 id="values">Values</h2>
<ol>
<li>Git is more of a tool to <strong>document and communicate</strong> changes rather than storing them.
As the number of people involved or time spent in a codebase grows, you will eventually
find yourself reading more about what (and why) have change rather than reverting
changes.</li>
<li>Git is <strong>not trivial</strong>. All its power and usefulness can come with more complexity
than your one might expect. Be humble enough to understand that you might not master
it as fully as you think, and trust it to be more powerful than you currently
expect it to be.</li>
<li>Failures are <strong>usually recoverable</strong>. Whenever some git operation does not goes
how you would expect (from commiting to a wrong branch to rebases with absurds conflicts)
do not panic as not all is broken or lost, and commands like <code>reflog</code>, <code>reset</code> or
<code>rebase</code> can be extremely useful to recover and fix whatever might have happened
to your git tree. <a href="http://ohshitgit.com">Oh shit, git!</a> is a tiny but useful
resource on possible git screw ups and how to fix them.</li>
</ol>
<h2 id="practices">Practices</h2>
<ul>
<li><strong>On commit messages</strong>: care about writing good commit messages and read your git history often. Chris
Beams has probably the <a href="https://chris.beams.io/posts/git-commit/">best post on how to write commit messages</a>
and I recommend reading it rather than trying to explain on this post.</li>
<li><strong>When working with feature branches</strong>, Always keep them up to date, with both <code>git pull</code> and <code>git fetch</code>
every now and then, rebasing it early and often with its base branch (the <code>master</code>
branch on your remote repository on most cases), and fixing conflicts as soon
as they happen. Fixing conflicts on larger rebases will be harder and merges
will add noisy commits to your branch&rsquo;s history.
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git checkout feature/add-new-stuff
<span style="color:#998;font-style:italic"># work work work...</span>
<span style="color:#998;font-style:italic"># download the refs that are on your remote repository, and rebase your feature</span>
<span style="color:#998;font-style:italic"># branch on top of whatever&#39;s is on your remote&#39;s master branch, so it will be</span>
<span style="color:#998;font-style:italic"># up to date. Hopefully no conflicts will need to be fixed.</span>
git fetch origin <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#d14">\
</span><span style="color:#d14"></span>  git rebase origin/master

<span style="color:#998;font-style:italic"># if you want to make your local `master` branch is up to date as well, do</span>
<span style="color:#998;font-style:italic"># the following: `git pull` will fetch and rebase the references from your</span>
<span style="color:#998;font-style:italic"># remote repository, and then rebase the feature branch against the local</span>
<span style="color:#998;font-style:italic"># master branch instead.</span>
git checkout master <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#d14">\
</span><span style="color:#d14"></span>  git pull --rebase <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#d14">\
</span><span style="color:#d14"></span>  git checkout - <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#d14">\
</span><span style="color:#d14"></span>  git rebase master
</code></pre></div></li>
<li><strong>Use <a href="https://robots.thoughtbot.com/autosquashing-git-commits">git commit &ndash;fixup</a></strong>
and <a href="https://robots.thoughtbot.com/git-interactive-rebase-squash-amend-rewriting-history">interactive rebases</a>
to rewrite the history on your feature branches to keep its commits in order and
organized. Intermediate changes are useful when rolling changes and trying fixes, but
once the dust has settled you can rework the history to represent the final changes
you want to introduce.
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#998;font-style:italic"># So, you added a few files and some commits on your branch</span>
git commit -m <span style="color:#d14">&#39;Add README.md&#39;</span>
<span style="color:#998;font-style:italic"># [master (root-commit) f1a4ab4] Add README.md</span>
<span style="color:#998;font-style:italic">#  1 file changed, 0 insertions(+), 0 deletions(-)</span>
<span style="color:#998;font-style:italic">#  create mode 100644 README.md</span>
$ git commit -m <span style="color:#d14">&#39;Add CONTRIBUTING.md&#39;</span>
<span style="color:#998;font-style:italic"># [master e8644e4] Add CONTRIBUTING.md</span>
<span style="color:#998;font-style:italic">#  1 file changed, 0 insertions(+), 0 deletions(-)</span>
<span style="color:#998;font-style:italic">#  create mode 100644 CONTRIBUTING.md</span>

<span style="color:#998;font-style:italic"># Now you need to update `README.md` and want to &#34;merge&#34; the new commit with</span>
<span style="color:#998;font-style:italic"># these new changes to the original commit (f1a4ab4) using an interactive rebase</span>
git add README.md
git commit --fixup f1a4ab4
<span style="color:#998;font-style:italic"># [master 13168c2] fixup! Add README.md</span>
<span style="color:#998;font-style:italic">#  1 file changed, 0 insertions(+), 0 deletions(-)</span>

<span style="color:#998;font-style:italic"># `--autosquash` will prepare the interactive rebase to squash 13168c2 on f1a4ab4</span>
<span style="color:#998;font-style:italic"># for you.</span>
git rebase --interactive --autosquash HEAD~3
</code></pre></div></li>
<li>Not all branches/Pull Requests need to be <strong>squashed into a single commit</strong> when
doing interactive rebases. Squashing too many commits can make bisecting or
navigating through the history harder than you might want to. You can practice
this by avoiding shortcuts like the GitHub <a href="https://github.com/blog/2141-squash-your-commits">&ldquo;squash merge&rdquo;</a>
button and favoring rebases through your editor where you have more control over
the operation and review your commits to decide how they should be squashed.</li>
</ul>
<h2 id="configuration">Configuration</h2>
<ul>
<li>Configure git to always <code>rebase</code> branches when doing <code>git pull</code> with <code>git config --global pull.rebase true</code>
and never use fast forward when doing merges with <code>git config --global merge.ff false</code>. These changes
are vital to maintain sane tree histories when working with remote repositories.</li>
<li>Configure your identity with <code>git config --global user.name</code> and <code>git config --global user.email</code>
on every workstation you use. This helps to identify who&rsquo;s the real author of a changes
and is important for tools like GitHub to associate a commit with a particular person.
I also configure my local repositories with different email given the context - commits
to company related work is made using a business email while open source is commited
using my personal email - I have an alias <code>git work</code> that sets the &ldquo;work&rdquo; identity
to the current repository while my global config remains personal.</li>
<li>Set up aliases to abstract common git operations, like:
<ul>
<li>Undo the last commit (<code>git reset --soft HEAD^</code>) and keep it changes to be reviewed or
split among different commits.</li>
<li>Add new changes to the latest commit while maintaining the same message (<code>git commit --amend --no-edit</code>).
Useful when applying small fixes like typos or styleschanges without having to do
a complete <code>rebase</code> operation - don&rsquo;t forget that you will need to push it using <code>--force</code>
when working with remote repositories.</li>
<li>Run an &ldquo;automatic&rdquo; interactive rebase to apply your <code>--fixup</code> marked commits without going
through your editor to describe what the rebase should do with each commit (<code>!GIT_SEQUENCE_EDITOR=touch git rebase --interactive --autosquash</code>).</li>
</ul>
</li>
</ul>
<p><em>For more configuration settings and aliases that I use (and don&rsquo;t use), you
can check my <a href="https://github.com/lucasmazza/dotfiles/blob/master/symlinks/gitconfig">gitconfig on GitHub</a>.</em></p>

        </div>
        <div class="post-footer">
            <div class="info">
                
                
            </div>
        </div>

        
    </div>


        </div>
    </div>
</div>

<script type="text/javascript"
        src="https://afterhours.io/js/jquery.min.86b1e8f819ee2d9099a783e50b49dff24282545fc40773861f9126b921532e4c.js"
        integrity="sha256-hrHo&#43;BnuLZCZp4PlC0nf8kKCVF/EB3OGH5EmuSFTLkw="
        crossorigin="anonymous"></script>




<script type="text/javascript"
        src="https://afterhours.io/js/bundle.min.0f9c74cb78f13d1f15f33daff4037c70354f98acfbb97a6f61708966675c3cae.js"
        integrity="sha256-D5x0y3jxPR8V8z2v9AN8cDVPmKz7uXpvYXCJZmdcPK4="
        crossorigin="anonymous"></script>

<script type="text/javascript"
        src="https://afterhours.io/js/medium-zoom.min.92f21c856129f84aeb719459b3e6ac621a3032fd7b180a18c04e1d12083f8aba.js"
        integrity="sha256-kvIchWEp&#43;ErrcZRZs&#43;asYhowMv17GAoYwE4dEgg/iro="
        crossorigin="anonymous"></script>
</body>

</html>
